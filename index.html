  <!DOCTYPE html>

<html>
  <head>
    <title>Tetris</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

      <div class="flashing-light"></div>




      <canvas class="overlay" style="background-color:#9bbc0f" width="320" height="640" id="game"></canvas>
      <div class="overlay game-info" id="game-info">
        <div class="score">Score <span id="score"><br>0</span></div>
        <div class="lines">Lines <span id="lines"><br>0</span></div>
        <div class="level">Level <span id="level"><br>1</span></div>

        <div id="next-piece"></div>
        <div id="tetromino-container">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>

        </div>

      </div>



  </body>
</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="app.js"> </script>
<style>
  body {
    overflow: hidden;
  }
</style>




<div style="all: unset;">
  <div>
    <label for="nameInput">Name:</label>
    <input type="text" id="nameInput" />
  </div>
  <div>
    <label for="scoreInput">Highscore:</label>
    <input type="number" id="scoreInput" />
  </div>
  <button id="submitBtn">Submit Highscore</button>

  <h2>Highscores</h2>
  <ul id="highscoresList"></ul>
</div>




  <script>
    $(document).ready(function() {
      // Your Tetris game logic goes here

      // Example AJAX request to submit high score
      $('#submitBtn').on('click', function() {
        var name = $('#nameInput').val();
        var score = parseInt($('#scoreInput').val());

        if (name && score) {
          var highscore = {
            playerName: name,
            score: score
          };

          $.ajax({
            url: '/highscore',
            type: 'POST',
            data: JSON.stringify(highscore),
            contentType: 'application/json',
            success: function(response) {
              console.log(response);
              loadHighscores();
            },
            error: function(error) {
              console.error(error);
            }
          });
        } else {
          alert('Please enter a name and a highscore number.');
        }
      });

      // Function to load highscores
      function loadHighscores() {
        $.ajax({
          url: '/highscores',
          type: 'GET',
          success: function(response) {
            var highscores = response;

            // Clear existing highscores
            $('#highscoresList').empty();

            // Add each highscore to the list
            highscores.forEach(function(score) {
              var listItem = $('<li>').text(score.playerName + ': ' + score.score);
              $('#highscoresList').append(listItem);
            });
          },
          error: function(error) {
            console.error(error);
          }
        });
      }

      // Load highscores on page load
      loadHighscores();
    });
  </script>
</body>
</html>
